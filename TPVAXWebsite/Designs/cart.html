<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Gi·ªè h√†ng ƒë·∫∑t l·ªãch ti√™m ch·ªßng - Qu·∫£n l√Ω vaccine, ch·ªçn ƒë·ªãa ƒëi·ªÉm v√† th·ªùi gian ti√™m ph√≤ng t·∫°i TPVAX" />
    <meta name="keywords" content="gi·ªè h√†ng, ƒë·∫∑t l·ªãch ti√™m, vaccine, TPVAX, ti√™m ch·ªßng" />
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="Assets/Images/logo.png" />
    
    <title>Gi·ªè H√†ng & ƒê·∫∑t L·ªãch Ti√™m - TPVAX</title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="Content/bootstrap.min.css" />
    <link rel="stylesheet" href="main_style.css" />
    <link rel="stylesheet" href="layout_page_style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
  </head>
  <body>
    <!-- Back to Home Button -->
    <div class="back-home-cart">
      <a href="layout_page.html">
        <i class="fas fa-arrow-left"></i>
        <span>Ti·∫øp t·ª•c mua s·∫Øm</span>
      </a>
    </div>

    <main class="cart-page-main container my-5">
      <!-- Page Header -->
      <div class="cart-header mb-4">
        <h1 class="page-heading">
          <i class="fas fa-shopping-cart me-3"></i>
          Gi·ªè h√†ng v√† ƒê·∫∑t l·ªãch ti√™m ch·ªßng
        </h1>
        <p class="text-muted">Ho√†n t·∫•t ƒë∆°n h√†ng v√† ch·ªçn th·ªùi gian ti√™m ph√≤ng ph√π h·ª£p</p>
      </div>

      <!-- Empty Cart Message (Hidden by default) -->
      <div class="empty-cart-container" id="emptyCart" style="display: none;">
        <div class="empty-cart-content">
          <div class="empty-cart-icon">
            <i class="fas fa-shopping-cart"></i>
          </div>
          <h3>Gi·ªè h√†ng tr·ªëng</h3>
          <p>B·∫°n ch∆∞a th√™m vaccine n√†o v√†o gi·ªè h√†ng</p>
          <a href="layout_page.html" class="btn btn-primary btn-lg">
            <i class="fas fa-search me-2"></i>
            Kh√°m ph√° vaccine
          </a>
        </div>
      </div>

      <!-- Cart Content -->
      <div class="cart-content-wrapper" id="cartContent">
        <div class="row g-4">
          <!-- Left Column - Person Info & Vaccine List -->
          <div class="col-lg-8">
            <!-- Person Info Card -->
            <div class="person-info-card card shadow-sm mb-4">
              <div class="card-body">
                <div class="d-flex justify-content-between align-items-center flex-wrap gap-3">
                  <div class="person-details">
                    <div class="person-header mb-2">
                      <i class="fas fa-user-circle text-primary me-2 fs-5"></i>
                      <span class="person-name-age fw-bold fs-5">Tr·∫ßn T·∫•n T√†i</span>
                      <span class="badge bg-primary ms-2">Ng∆∞·ªùi ƒë∆∞·ª£c ti√™m</span>
                    </div>
                    <div class="person-info-details">
                      <span class="text-muted">
                        <i class="fas fa-venus-mars me-1"></i>Nam
                      </span>
                      <span class="text-muted mx-2">|</span>
                      <span class="text-muted">
                        <i class="fas fa-birthday-cake me-1"></i>01/02/2004
                      </span>
                      <span class="text-muted mx-2">|</span>
                      <span class="text-muted">
                        <i class="fas fa-calendar-alt me-1"></i>21 Tu·ªïi 8 Th√°ng
                      </span>
                    </div>
                  </div>
                  <button class="btn btn-outline-primary btn-sm">
                    <i class="fas fa-edit me-1"></i>
                    Thay ƒë·ªïi
                  </button>
                </div>
              </div>
            </div>

            <!-- Vaccine List Header -->
            <div class="vaccine-list-header mb-3 d-flex justify-content-between align-items-center">
              <h5 class="mb-0">
                <i class="fas fa-syringe me-2 text-success"></i>
                Danh s√°ch vaccine (<span id="vaccineCount">2</span>)
              </h5>
              <button class="btn btn-link text-danger" id="clearCartBtn">
                <i class="fas fa-trash me-1"></i>
                X√≥a t·∫•t c·∫£
              </button>
            </div>

            <!-- Vaccine Items -->
            <div class="vaccine-list" id="vaccineList">
              <!-- Vaccine Item 1 -->
              <div class="vaccine-item-card card mb-3" data-id="1" data-price="1348300">
                <div class="card-body">
                  <div class="vaccine-item-layout">
                    <!-- Vaccine Image -->
                    <div class="vaccine-image-wrapper">
                      <img
                        src="Assets/Images/hexaxim.png"
                        alt="V·∫Øc xin Qdenga"
                        class="vaccine-thumb"
                        onerror="this.src='Assets/Images/logo.png'"
                      />
                      <div class="vaccine-badge">
                        <i class="fas fa-check-circle"></i>
                      </div>
                    </div>

                    <!-- Vaccine Info -->
                    <div class="vaccine-info-section">
                      <div class="vaccine-header mb-2">
                        <h6 class="vaccine-name mb-1">
                          <span class="origin-tag">üá©üá™ ƒê·ª©c</span>
                          V·∫Øc xin Qdenga
                        </h6>
                        <span class="badge bg-success-soft text-success">
                          <i class="fas fa-shield-alt me-1"></i>
                          Ch√≠nh h√£ng
                        </span>
                      </div>
                      
                      <p class="vaccine-disease mb-2">
                        <i class="fas fa-virus me-1 text-danger"></i>
                        <strong>Ph√≤ng:</strong> S·ªët xu·∫•t huy·∫øt
                      </p>
                      
                      <p class="vaccine-schedule text-muted mb-2">
                        <i class="fas fa-calendar-check me-1"></i>
                        <strong>Ph√°c ƒë·ªì:</strong> T·ª´ 4 tu·ªïi tr·ªü l√™n (2 Li·ªÅu)
                      </p>

                      <div class="vaccine-benefits">
                        <div class="small-offer">
                          <i class="fas fa-gift text-success me-1"></i>
                          Gi·∫£m 3% khi mua g√≥i
                        </div>
                        <div class="small-offer">
                          <i class="fas fa-award text-warning me-1"></i>
                          T√≠ch l≈©y +1,348 ƒëi·ªÉm
                        </div>
                      </div>
                    </div>

                    <!-- Vaccine Actions -->
                    <div class="vaccine-actions">
                      <div class="price-section mb-3">
                        <div class="price-old text-decoration-line-through text-muted small">
                          1.390.000‚Ç´
                        </div>
                        <div class="price-current fw-bold text-danger fs-5">
                          1.348.300‚Ç´
                        </div>
                        <div class="price-per-dose text-muted small">
                          (674.150‚Ç´/li·ªÅu)
                        </div>
                      </div>
                      
                      <div class="quantity-section mb-2">
                        <label class="small text-muted mb-1 d-block">S·ªë l∆∞·ª£ng:</label>
                        <div class="quantity-control">
                          <button class="qty-btn qty-minus" data-id="1">
                            <i class="fas fa-minus"></i>
                          </button>
                          <input
                            type="number"
                            value="1"
                            min="1"
                            max="10"
                            class="quantity-input"
                            data-id="1"
                            readonly
                          />
                          <button class="qty-btn qty-plus" data-id="1">
                            <i class="fas fa-plus"></i>
                          </button>
                        </div>
                      </div>

                      <button class="btn btn-outline-danger btn-sm w-100 delete-btn" data-id="1">
                        <i class="fas fa-trash-alt me-1"></i>
                        X√≥a
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Vaccine Item 2 -->
              <div class="vaccine-item-card card mb-3" data-id="2" data-price="1396800">
                <div class="card-body">
                  <div class="vaccine-item-layout">
                    <!-- Vaccine Image -->
                    <div class="vaccine-image-wrapper">
                      <img
                        src="Assets/Images/hexaxim.png"
                        alt="V·∫Øc xin Hexaxim 23"
                        class="vaccine-thumb"
                        onerror="this.src='Assets/Images/logo.png'"
                      />
                      <div class="vaccine-badge">
                        <i class="fas fa-check-circle"></i>
                      </div>
                    </div>

                    <!-- Vaccine Info -->
                    <div class="vaccine-info-section">
                      <div class="vaccine-header mb-2">
                        <h6 class="vaccine-name mb-1">
                          <span class="origin-tag">üá∫üá∏ Hoa K·ª≥</span>
                          V·∫Øc xin Hexaxim 23
                        </h6>
                        <span class="badge bg-success-soft text-success">
                          <i class="fas fa-shield-alt me-1"></i>
                          Ch√≠nh h√£ng
                        </span>
                      </div>
                      
                      <p class="vaccine-disease mb-2">
                        <i class="fas fa-virus me-1 text-danger"></i>
                        <strong>Ph√≤ng:</strong> B·ªánh do Ph·∫ø c·∫ßu
                      </p>
                      
                      <p class="vaccine-schedule text-muted mb-2">
                        <i class="fas fa-calendar-check me-1"></i>
                        <strong>Ph√°c ƒë·ªì:</strong> T·ª´ 2 tu·ªïi tr·ªü l√™n (1 Li·ªÅu)
                      </p>

                      <div class="vaccine-benefits">
                        <div class="small-offer">
                          <i class="fas fa-gift text-success me-1"></i>
                          Gi·∫£m 3% khi mua g√≥i
                        </div>
                        <div class="small-offer">
                          <i class="fas fa-award text-warning me-1"></i>
                          T√≠ch l≈©y +1,397 ƒëi·ªÉm
                        </div>
                      </div>
                    </div>

                    <!-- Vaccine Actions -->
                    <div class="vaccine-actions">
                      <div class="price-section mb-3">
                        <div class="price-old text-decoration-line-through text-muted small">
                          1.440.000‚Ç´
                        </div>
                        <div class="price-current fw-bold text-danger fs-5">
                          1.396.800‚Ç´
                        </div>
                        <div class="price-per-dose text-muted small">
                          (1.396.800‚Ç´/li·ªÅu)
                        </div>
                      </div>
                      
                      <div class="quantity-section mb-2">
                        <label class="small text-muted mb-1 d-block">S·ªë l∆∞·ª£ng:</label>
                        <div class="quantity-control">
                          <button class="qty-btn qty-minus" data-id="2">
                            <i class="fas fa-minus"></i>
                          </button>
                          <input
                            type="number"
                            value="1"
                            min="1"
                            max="10"
                            class="quantity-input"
                            data-id="2"
                            readonly
                          />
                          <button class="qty-btn qty-plus" data-id="2">
                            <i class="fas fa-plus"></i>
                          </button>
                        </div>
                      </div>

                      <button class="btn btn-outline-danger btn-sm w-100 delete-btn" data-id="2">
                        <i class="fas fa-trash-alt me-1"></i>
                        X√≥a
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Promo Code Section -->
            <div class="promo-code-section card shadow-sm mt-4">
              <div class="card-body">
                <h6 class="mb-3">
                  <i class="fas fa-ticket-alt me-2 text-warning"></i>
                  M√£ gi·∫£m gi√° / Voucher
                </h6>
                <div class="input-group">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Nh·∫≠p m√£ gi·∫£m gi√° (VD: TPVAX2024)"
                    id="promoCodeInput"
                  />
                  <button class="btn btn-primary" id="applyPromoBtn">
                    <i class="fas fa-check me-1"></i>
                    √Åp d·ª•ng
                  </button>
                </div>
                <div class="promo-message mt-2" id="promoMessage" style="display: none;"></div>
                
                <!-- Available Vouchers -->
                <div class="available-vouchers mt-3">
                  <p class="small text-muted mb-2">M√£ gi·∫£m gi√° kh·∫£ d·ª•ng:</p>
                  <div class="voucher-list">
                    <button class="voucher-badge" data-code="TPVAX10">
                      <i class="fas fa-tag me-1"></i>
                      TPVAX10 - Gi·∫£m 10%
                    </button>
                    <button class="voucher-badge" data-code="WELCOME50">
                      <i class="fas fa-tag me-1"></i>
                      WELCOME50 - Gi·∫£m 50K
                    </button>
                    <button class="voucher-badge" data-code="FIRSTTIME">
                      <i class="fas fa-tag me-1"></i>
                      FIRSTTIME - Mi·ªÖn ph√≠ qu·∫£n l√Ω
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Right Column - Summary & Booking -->
          <div class="col-lg-4">
            <div class="summary-card sticky-top">
              <!-- Location & Time Selection -->
              <div class="section-card location-time-card mb-4">
                <h5 class="card-title">
                  <i class="fas fa-map-marker-alt me-2 text-primary"></i>
                  ƒê·ªãa ƒëi·ªÉm & th·ªùi gian
                </h5>
                <hr />

                <div class="selection-row mb-3">
                  <label class="d-block fw-bold mb-2">
                    <i class="fas fa-hospital me-1"></i>
                    Trung t√¢m ti√™m ch·ªßng
                  </label>
                  <button class="selection-btn w-100" data-bs-toggle="modal" data-bs-target="#locationModal">
                    <div class="selection-content">
                      <span class="selected-value" id="selectedLocation">Ch∆∞a ch·ªçn trung t√¢m</span>
                      <i class="fas fa-chevron-right"></i>
                    </div>
                  </button>
                </div>

                <div class="selection-row">
                  <label class="d-block fw-bold mb-2">
                    <i class="fas fa-clock me-1"></i>
                    Th·ªùi gian h·∫πn kh√°m
                    <i class="fas fa-info-circle small text-muted ms-1" title="Ch·ªçn th·ªùi gian ph√π h·ª£p v·ªõi l·ªãch c·ªßa b·∫°n"></i>
                  </label>
                  <button class="selection-btn w-100" data-bs-toggle="modal" data-bs-target="#timeModal">
                    <div class="selection-content">
                      <span class="selected-value fw-bold" id="selectedTime">Ch·ªß Nh·∫≠t, 12/10/2025</span>
                      <i class="fas fa-chevron-right"></i>
                    </div>
                  </button>
                </div>
              </div>

              <!-- Price Summary -->
              <div class="section-card price-summary-card mb-4">
                <h5 class="card-title text-success">
                  <i class="fas fa-check-circle me-2"></i>
                  ƒê√£ √°p d·ª•ng <span id="promoCount">2</span> ∆∞u ƒë√£i
                </h5>
                <hr />
                
                <ul class="price-list list-unstyled">
                  <li class="d-flex justify-content-between">
                    <span>T·ªïng ti·ªÅn h√†ng</span>
                    <span class="fw-bold" id="subtotalPrice">2.745.100‚Ç´</span>
                  </li>
                  <li class="d-flex justify-content-between text-muted small">
                    <span>
                      Ph√≠ qu·∫£n l√Ω
                      <i class="fas fa-info-circle" title="Ph√≠ d·ªãch v·ª• v√† qu·∫£n l√Ω h·ªì s∆°"></i>
                    </span>
                    <span id="managementFee">164.000‚Ç´</span>
                  </li>
                  <li class="d-flex justify-content-between text-danger fw-bold">
                    <span>Gi·∫£m gi√° tr·ª±c ti·∫øp</span>
                    <span id="directDiscount">- 82.353‚Ç´</span>
                  </li>
                  <li class="d-flex justify-content-between text-success">
                    <span>Gi·∫£m gi√° voucher</span>
                    <span id="voucherDiscount">0‚Ç´</span>
                  </li>
                  <hr class="my-2" />
                  <li class="d-flex justify-content-between fw-bold text-success">
                    <span>
                      <i class="fas fa-piggy-bank me-1"></i>
                      Ti·∫øt ki·ªám ƒë∆∞·ª£c
                    </span>
                    <span id="totalSavings">82.353‚Ç´</span>
                  </li>
                </ul>

                <div class="final-price-section mt-3 pt-3 border-top">
                  <div class="d-flex justify-content-between align-items-center mb-2">
                    <div>
                      <span class="text-muted small d-block">T·∫°m t√≠nh</span>
                      <span class="fw-bold text-primary fs-3" id="finalPrice">2.826.747‚Ç´</span>
                    </div>
                    <div class="text-end">
                      <span class="text-muted small d-block">ƒêi·ªÉm th∆∞·ªüng</span>
                      <span class="text-warning fw-bold" id="rewardPoints">+2,827 ƒëi·ªÉm</span>
                    </div>
                  </div>
                  <a href="#" class="text-primary small text-decoration-none fw-bold">
                    <i class="fas fa-file-invoice me-1"></i>
                    Xem chi ti·∫øt b√°o gi√°
                    <i class="fas fa-chevron-right small ms-1"></i>
                  </a>
                </div>
              </div>

              <!-- Confirmation Section -->
              <div class="confirmation-section">
                <button class="btn btn-lg btn-confirm w-100 mb-3" id="confirmBookingBtn">
                  <i class="fas fa-calendar-check me-2"></i>
                  X√°c nh·∫≠n ƒë·∫∑t h·∫πn
                </button>
                
                <div class="security-badges mb-3">
                  <div class="security-item">
                    <i class="fas fa-shield-alt text-success"></i>
                    <span>Thanh to√°n an to√†n</span>
                  </div>
                  <div class="security-item">
                    <i class="fas fa-award text-warning"></i>
                    <span>Vaccine ch√≠nh h√£ng</span>
                  </div>
                  <div class="security-item">
                    <i class="fas fa-headset text-info"></i>
                    <span>H·ªó tr·ª£ 24/7</span>
                  </div>
                </div>

                <p class="terms-policy-text text-muted small text-center mb-0">
                  B·∫±ng vi·ªác x√°c nh·∫≠n ƒë·∫∑t h·∫πn, b·∫°n ƒë·ªìng √Ω v·ªõi
                  <a href="#" class="text-primary text-decoration-none fw-bold">ƒêi·ªÅu kho·∫£n d·ªãch v·ª•</a>
                  &
                  <a href="#" class="text-primary text-decoration-none fw-bold">Ch√≠nh s√°ch b·∫£o m·∫≠t</a>
                  c·ªßa TPVAX.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Location Selection Modal -->
    <div class="modal fade" id="locationModal" tabindex="-1" aria-labelledby="locationModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="locationModalLabel">
              <i class="fas fa-map-marker-alt me-2"></i>
              Ch·ªçn trung t√¢m ti√™m ch·ªßng
            </h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="location-search mb-3">
              <input type="text" class="form-control" placeholder="T√¨m ki·∫øm theo t√™n, ƒë·ªãa ch·ªâ...">
            </div>
            <div class="location-list">
              <div class="location-item" data-location="TPVAX - Qu·∫≠n 1">
                <div class="location-info">
                  <h6>TPVAX - Chi nh√°nh Qu·∫≠n 1</h6>
                  <p class="text-muted small mb-1">
                    <i class="fas fa-map-marker-alt me-1"></i>
                    123 Nguy·ªÖn Hu·ªá, Ph∆∞·ªùng B·∫øn Ngh√©, Qu·∫≠n 1, TP.HCM
                  </p>
                  <p class="text-muted small mb-0">
                    <i class="fas fa-clock me-1"></i>
                    Th·ª© 2 - CN: 7:00 - 19:00
                  </p>
                </div>
                <button class="btn btn-outline-primary btn-sm">Ch·ªçn</button>
              </div>
              <div class="location-item" data-location="TPVAX - Qu·∫≠n 3">
                <div class="location-info">
                  <h6>TPVAX - Chi nh√°nh Qu·∫≠n 3</h6>
                  <p class="text-muted small mb-1">
                    <i class="fas fa-map-marker-alt me-1"></i>
                    456 V√µ VƒÉn T·∫ßn, Ph∆∞·ªùng 5, Qu·∫≠n 3, TP.HCM
                  </p>
                  <p class="text-muted small mb-0">
                    <i class="fas fa-clock me-1"></i>
                    Th·ª© 2 - CN: 7:30 - 18:30
                  </p>
                </div>
                <button class="btn btn-outline-primary btn-sm">Ch·ªçn</button>
              </div>
              <div class="location-item" data-location="TPVAX - B√¨nh Th·∫°nh">
                <div class="location-info">
                  <h6>TPVAX - Chi nh√°nh B√¨nh Th·∫°nh</h6>
                  <p class="text-muted small mb-1">
                    <i class="fas fa-map-marker-alt me-1"></i>
                    789 ƒêi·ªán Bi√™n Ph·ªß, Ph∆∞·ªùng 15, B√¨nh Th·∫°nh, TP.HCM
                  </p>
                  <p class="text-muted small mb-0">
                    <i class="fas fa-clock me-1"></i>
                    Th·ª© 2 - CN: 8:00 - 20:00
                  </p>
                </div>
                <button class="btn btn-outline-primary btn-sm">Ch·ªçn</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Time Selection Modal -->
    <div class="modal fade" id="timeModal" tabindex="-1" aria-labelledby="timeModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="timeModalLabel">
              <i class="fas fa-calendar-alt me-2"></i>
              Ch·ªçn th·ªùi gian h·∫πn kh√°m
            </h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="mb-3">
              <label class="form-label fw-bold">Ch·ªçn ng√†y</label>
              <input type="date" class="form-control" id="dateInput" min="2024-10-30">
            </div>
            <div class="mb-3">
              <label class="form-label fw-bold">Ch·ªçn khung gi·ªù</label>
              <div class="time-slots">
                <button class="time-slot-btn" data-time="08:00">08:00 - 09:00</button>
                <button class="time-slot-btn" data-time="09:00">09:00 - 10:00</button>
                <button class="time-slot-btn" data-time="10:00">10:00 - 11:00</button>
                <button class="time-slot-btn" data-time="11:00">11:00 - 12:00</button>
                <button class="time-slot-btn" data-time="14:00">14:00 - 15:00</button>
                <button class="time-slot-btn" data-time="15:00">15:00 - 16:00</button>
                <button class="time-slot-btn" data-time="16:00">16:00 - 17:00</button>
                <button class="time-slot-btn" data-time="17:00">17:00 - 18:00</button>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">H·ªßy</button>
            <button type="button" class="btn btn-primary" id="confirmTimeBtn">X√°c nh·∫≠n</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Success Modal -->
    <div class="modal fade" id="successModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-body text-center py-5">
            <div class="success-icon mb-3">
              <i class="fas fa-check-circle text-success"></i>
            </div>
            <h4 class="mb-3">ƒê·∫∑t h·∫πn th√†nh c√¥ng!</h4>
            <p class="text-muted mb-4">
              M√£ ƒë·∫∑t h·∫πn c·ªßa b·∫°n: <strong class="text-primary">#TPV2024103001</strong>
            </p>
            <p class="text-muted mb-4">
              Ch√∫ng t√¥i ƒë√£ g·ª≠i th√¥ng tin chi ti·∫øt ƒë·∫øn email v√† s·ªë ƒëi·ªán tho·∫°i c·ªßa b·∫°n.
            </p>
            <div class="d-grid gap-2">
              <a href="#" class="btn btn-primary">
                <i class="fas fa-file-invoice me-2"></i>
                Xem chi ti·∫øt ƒë∆°n h√†ng
              </a>
              <a href="layout_page.html" class="btn btn-outline-secondary">
                V·ªÅ trang ch·ªß
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="Scripts/bootstrap.bundle.min.js"></script>
    <script>
      // Cart functionality
      document.addEventListener('DOMContentLoaded', function() {
        // Initialize
        updateCartCount();
        updatePrices();

        // Quantity controls
        document.querySelectorAll('.qty-minus').forEach(btn => {
          btn.addEventListener('click', function() {
            const id = this.dataset.id;
            const input = document.querySelector(`.quantity-input[data-id="${id}"]`);
            if (parseInt(input.value) > 1) {
              input.value = parseInt(input.value) - 1;
              updatePrices();
            }
          });
        });

        document.querySelectorAll('.qty-plus').forEach(btn => {
          btn.addEventListener('click', function() {
            const id = this.dataset.id;
            const input = document.querySelector(`.quantity-input[data-id="${id}"]`);
            if (parseInt(input.value) < 10) {
              input.value = parseInt(input.value) + 1;
              updatePrices();
            }
          });
        });

        // Delete buttons
        document.querySelectorAll('.delete-btn').forEach(btn => {
          btn.addEventListener('click', function() {
            const id = this.dataset.id;
            if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a vaccine n√†y kh·ªèi gi·ªè h√†ng?')) {
              document.querySelector(`.vaccine-item-card[data-id="${id}"]`).remove();
              updateCartCount();
              updatePrices();
              checkEmptyCart();
            }
          });
        });

        // Clear cart button
        document.getElementById('clearCartBtn')?.addEventListener('click', function() {
          if (confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a t·∫•t c·∫£ vaccine kh·ªèi gi·ªè h√†ng?')) {
            document.getElementById('vaccineList').innerHTML = '';
            checkEmptyCart();
          }
        });

        // Promo code
        document.getElementById('applyPromoBtn')?.addEventListener('click', function() {
          const code = document.getElementById('promoCodeInput').value.trim().toUpperCase();
          applyPromoCode(code);
        });

        // Voucher badges
        document.querySelectorAll('.voucher-badge').forEach(badge => {
          badge.addEventListener('click', function() {
            const code = this.dataset.code;
            document.getElementById('promoCodeInput').value = code;
            applyPromoCode(code);
          });
        });

        // Location selection
        document.querySelectorAll('.location-item button').forEach(btn => {
          btn.addEventListener('click', function() {
            const locationName = this.closest('.location-item').dataset.location;
            document.getElementById('selectedLocation').textContent = locationName;
            bootstrap.Modal.getInstance(document.getElementById('locationModal')).hide();
          });
        });

        // Time selection
        document.querySelectorAll('.time-slot-btn').forEach(btn => {
          btn.addEventListener('click', function() {
            document.querySelectorAll('.time-slot-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
          });
        });

        document.getElementById('confirmTimeBtn')?.addEventListener('click', function() {
          const date = document.getElementById('dateInput').value;
          const timeSlot = document.querySelector('.time-slot-btn.active');
          if (date && timeSlot) {
            const formattedDate = formatDate(date);
            document.getElementById('selectedTime').textContent = `${formattedDate}, ${timeSlot.textContent}`;
            bootstrap.Modal.getInstance(document.getElementById('timeModal')).hide();
          } else {
            alert('Vui l√≤ng ch·ªçn ng√†y v√† gi·ªù');
          }
        });

        // Confirm booking
        document.getElementById('confirmBookingBtn')?.addEventListener('click', function() {
          const location = document.getElementById('selectedLocation').textContent;
          if (location === 'Ch∆∞a ch·ªçn trung t√¢m') {
            alert('Vui l√≤ng ch·ªçn trung t√¢m ti√™m ch·ªßng');
            return;
          }
          new bootstrap.Modal(document.getElementById('successModal')).show();
        });
      });

      function updateCartCount() {
        const count = document.querySelectorAll('.vaccine-item-card').length;
        document.getElementById('vaccineCount').textContent = count;
      }

      function updatePrices() {
        let subtotal = 0;
        document.querySelectorAll('.vaccine-item-card').forEach(item => {
          const price = parseInt(item.dataset.price);
          const qty = parseInt(item.querySelector('.quantity-input').value);
          subtotal += price * qty;
        });

        const managementFee = 164000;
        const directDiscount = Math.round(subtotal * 0.03);
        const voucherDiscount = 0;
        const total = subtotal + managementFee - directDiscount - voucherDiscount;
        const savings = directDiscount + voucherDiscount;
        const rewardPoints = Math.round(total / 1000);

        document.getElementById('subtotalPrice').textContent = formatCurrency(subtotal);
        document.getElementById('managementFee').textContent = formatCurrency(managementFee);
        document.getElementById('directDiscount').textContent = `- ${formatCurrency(directDiscount)}`;
        document.getElementById('voucherDiscount').textContent = formatCurrency(voucherDiscount);
        document.getElementById('totalSavings').textContent = formatCurrency(savings);
        document.getElementById('finalPrice').textContent = formatCurrency(total);
        document.getElementById('rewardPoints').textContent = `+${rewardPoints.toLocaleString('vi-VN')} ƒëi·ªÉm`;
      }

      function applyPromoCode(code) {
        const validCodes = {
          'TPVAX10': { type: 'percent', value: 10, desc: 'Gi·∫£m 10% t·ªïng ƒë∆°n h√†ng' },
          'WELCOME50': { type: 'fixed', value: 50000, desc: 'Gi·∫£m 50.000‚Ç´' },
          'FIRSTTIME': { type: 'free_fee', value: 0, desc: 'Mi·ªÖn ph√≠ qu·∫£n l√Ω' }
        };

        const messageEl = document.getElementById('promoMessage');
        if (validCodes[code]) {
          messageEl.innerHTML = `<div class="alert alert-success"><i class="fas fa-check-circle me-2"></i>${validCodes[code].desc}</div>`;
          messageEl.style.display = 'block';
        } else if (code) {
          messageEl.innerHTML = `<div class="alert alert-danger"><i class="fas fa-times-circle me-2"></i>M√£ gi·∫£m gi√° kh√¥ng h·ª£p l·ªá</div>`;
          messageEl.style.display = 'block';
        }
      }

      function checkEmptyCart() {
        const hasItems = document.querySelectorAll('.vaccine-item-card').length > 0;
        document.getElementById('emptyCart').style.display = hasItems ? 'none' : 'block';
        document.getElementById('cartContent').style.display = hasItems ? 'block' : 'none';
      }

      function formatCurrency(amount) {
        return amount.toLocaleString('vi-VN') + '‚Ç´';
      }

      function formatDate(dateStr) {
        const date = new Date(dateStr);
        const days = ['Ch·ªß Nh·∫≠t', 'Th·ª© Hai', 'Th·ª© Ba', 'Th·ª© T∆∞', 'Th·ª© NƒÉm', 'Th·ª© S√°u', 'Th·ª© B·∫£y'];
        return `${days[date.getDay()]}, ${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`;
      }

      // Set min date for date input to today
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('dateInput')?.setAttribute('min', today);
    </script>
  </body>
</html>
